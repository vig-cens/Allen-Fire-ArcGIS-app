System.register(["jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-ui/advanced/resource-selector","jimu-ui","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/expression-builder","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(t,e){var s={},o={},i={},n={},a={},r={},p={},l={},u={};return{setters:[function(t){s.AllDataSourceTypes=t.AllDataSourceTypes,s.ExpressionPartType=t.ExpressionPartType,s.Immutable=t.Immutable,s.LinkType=t.LinkType,s.React=t.React,s.css=t.css,s.defaultMessages=t.defaultMessages,s.expressionUtils=t.expressionUtils,s.jsx=t.jsx,s.lodash=t.lodash,s.polished=t.polished},function(t){o.builderAppSync=t.builderAppSync},function(t){i.CollapsableResetPanel=t.CollapsableResetPanel,i.LinkSelector=t.LinkSelector,i.SettingRow=t.SettingRow,i.SettingSection=t.SettingSection},function(t){n.IconPicker=t.IconPicker},function(t){a.Collapse=t.Collapse,a.DistanceUnits=t.DistanceUnits,a.Label=t.Label,a.Select=t.Select,a.Switch=t.Switch,a.Tab=t.Tab,a.Tabs=t.Tabs,a.TextInput=t.TextInput,a.defaultMessages=t.defaultMessages},function(t){r.DataSourceSelector=t.DataSourceSelector},function(t){p.ExpressionInput=t.ExpressionInput,p.ExpressionInputType=t.ExpressionInputType},function(t){l.BackgroundSetting=t.BackgroundSetting,l.BorderRadiusSetting=t.BorderRadiusSetting,l.BorderSetting=t.BorderSetting,l.BoxShadowSetting=t.BoxShadowSetting,l.InputUnit=t.InputUnit,l.TextStyle=t.TextStyle},function(t){u.ThemeColorPicker=t.ThemeColorPicker}],execute:function(){t((()=>{var t={79244:t=>{"use strict";t.exports=s},4108:t=>{"use strict";t.exports=o},14321:t=>{"use strict";t.exports=a},13089:t=>{"use strict";t.exports=r},84845:t=>{"use strict";t.exports=p},35809:t=>{"use strict";t.exports=n},79298:t=>{"use strict";t.exports=i},15562:t=>{"use strict";t.exports=l},54337:t=>{"use strict";t.exports=u}},e={};function g(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,g),i.exports}g.d=(t,e)=>{for(var s in e)g.o(e,s)&&!g.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},g.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),g.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},g.p="";var c={};return g.p=window.jimuConfig.baseUrl,(()=>{"use strict";g.r(c),g.d(c,{__set_webpack_public_path__:()=>y,default:()=>T});var t,e=g(79244),s=g(4108),o=g(79298),i=g(35809),n=g(14321),a=g(13089),r=g(84845);!function(t){t.Left="LEFT",t.Right="RIGHT"}(t||(t={}));var p=g(15562);const l=t=>{if(!t)return!0;var e;return(null==(e=t.color)||""===e)&&x(t.image)};class u extends e.React.PureComponent{constructor(){super(...arguments),this.onBackgroundStyleChange=t=>{var s,o;let i=(0,e.Immutable)(null!==(o=null===(s=this.props.style)||void 0===s?void 0:s.background)&&void 0!==o?o:{});for(const e in t)switch(e){case"fillType":i.fillType!==t[e]&&(i=i.set("fillType",t[e]));break;case"color":i=i.set("color",t[e]);break;case"image":i=i.set("image",t[e])}this.props.onChange(this.getStyleSettings().set("background",i))},this.resetBackground=()=>{this.props.onChange(this.getStyleSettings().without("background"))},this.updateBorder=t=>{this.props.onChange(this.getStyleSettings().set("border",t).without("borderTop").without("borderLeft").without("borderRight").without("borderBottom"))},this.updateSideBorder=(t,s)=>{this.props.onChange(this.getStyleSettings().set(e.lodash.camelCase(`border-${t}`),s).without("border"))},this.resetBorder=()=>{this.props.onChange(this.getStyleSettings().without("border").without("borderTop").without("borderLeft").without("borderRight").without("borderBottom"))},this.updateRadius=t=>{t.number[0]||t.number[1]||t.number[2]||t.number[3]?this.props.onChange(this.getStyleSettings().set("borderRadius",t)):this.resetRadius()},this.resetRadius=()=>{this.props.onChange(this.getStyleSettings().without("borderRadius"))},this.updateShadow=t=>{this.props.onChange(this.getStyleSettings().set("boxShadow",t))}}getStyleSettings(){return this.props.style?this.props.style:(0,e.Immutable)({})}render(){const t=this.props.style||(0,e.Immutable)({}),{intl:s}=this.props,i=s.formatMessage({id:"background",defaultMessage:n.defaultMessages.background}),a=s.formatMessage({id:"border",defaultMessage:n.defaultMessages.border}),r=s.formatMessage({id:"borderRadius",defaultMessage:n.defaultMessages.borderRadius}),u=s.formatMessage({id:"shadow",defaultMessage:n.defaultMessages.shadow}),g=x(t.border)&&x(t.borderTop)&&x(t.borderLeft)&&x(t.borderRight)&&x(t.borderBottom),c=x(t.borderRadius);return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:i,isEmpty:l(t.background),bottomLine:!0,keepMount:!0,onReset:this.resetBackground},(0,e.jsx)(p.BackgroundSetting,{background:t.background,applyDefaultValue:!1,onChange:this.onBackgroundStyleChange}))),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:a,isEmpty:g,bottomLine:!0,keepMount:!0,onReset:this.resetBorder},(0,e.jsx)(p.BorderSetting,{value:t.border,top:t.borderTop,left:t.borderLeft,right:t.borderRight,bottom:t.borderBottom,applyDefaultValue:!1,onChange:this.updateBorder,onSideChange:this.updateSideBorder}))),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:r,isEmpty:c,bottomLine:!0,keepMount:!0,onReset:this.resetRadius},(0,e.jsx)(p.BorderRadiusSetting,{value:t.borderRadius,applyDefaultValue:!1,onChange:this.updateRadius}))),(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:u,isEmpty:x(t.boxShadow),keepMount:!0,onReset:()=>{this.updateShadow(null)}},(0,e.jsx)(p.BoxShadowSetting,{value:t.boxShadow,applyDefaultValue:!1,onChange:this.updateShadow}))))}}var h=g(54337);class d extends e.React.PureComponent{constructor(){super(...arguments),this.units=[n.DistanceUnits.PIXEL],this.onSizeChange=t=>{this.changeIcon("size",t.distance)},this.onColorChange=t=>{this.changeIcon("color",t)},this.changeIcon=(t,s)=>{const o=this.props.iconProps?this.props.iconProps.set(t,s):(0,e.Immutable)({[t]:s});this.props.onChange(o)}}render(){const t=this.props.iconProps||{},s=isNaN(t.size)?void 0:t.size+"px";return(0,e.jsx)("div",{className:"w-100 d-flex justify-content-between icon-size-font-style-setting"},(0,e.jsx)(p.InputUnit,{className:"pr-1",units:this.units,value:s,applyDefaultValue:!1,placeholder:"##",onChange:this.onSizeChange}),(0,e.jsx)(h.ThemeColorPicker,{specificTheme:this.props.appTheme,value:t.color,onChange:this.onColorChange}))}}class f extends e.React.PureComponent{constructor(){super(...arguments),this.changeText=(t,s)=>{const o=this.props.text?this.props.text.set(t,s):(0,e.Immutable)({[t]:s});this.props.onChange(o)}}render(){return(0,e.jsx)(p.TextStyle,Object.assign({},this.props.text,{applyDefaultValue:!1,onChange:this.changeText}))}}const x=t=>{if(!t)return!0;return!Object.keys(t).some((e=>null!==t[e]&&void 0!==t[e]&&""!==t[e]))};class S extends e.React.PureComponent{constructor(){super(...arguments),this.onTextChange=t=>{const e=this.getStyleFromCustom().set("text",t);this.props.onChange(e)},this.onIconChange=t=>{const e=this.getStyleFromCustom().set("iconProps",t);this.props.onChange(e)},this.onCommonChange=t=>{this.props.onChange((0,e.Immutable)(t))},this.getStyleFromCustom=()=>this.props.style||(0,e.Immutable)({})}render(){const t=this.getStyleFromCustom(),{isTextSettingOpen:s,isIconSettingOpen:i,intl:a,appTheme:r}=this.props,p=a.formatMessage({id:"text",defaultMessage:n.defaultMessages.text}),l=a.formatMessage({id:"icon",defaultMessage:e.defaultMessages.icon});return(0,e.jsx)("div",{className:"advance-style-setting mt-4"},s&&(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:p,isEmpty:x(t.text),bottomLine:!0,onReset:()=>{this.onTextChange(null)}},(0,e.jsx)(f,{appTheme:r,text:t.text,onChange:this.onTextChange}))),i&&(0,e.jsx)(o.SettingRow,null,(0,e.jsx)(o.CollapsableResetPanel,{label:l,isEmpty:x(t.iconProps),bottomLine:!0,onReset:()=>{this.onIconChange(null)}},(0,e.jsx)(d,{appTheme:r,intl:a,iconProps:t.iconProps,onChange:this.onIconChange}))),(0,e.jsx)(u,{intl:a,style:t,onChange:this.onCommonChange}))}}class m extends e.React.PureComponent{render(){return e.React.createElement("div",{className:"w-100"},e.React.createElement("div",{onClick:this.props.toggle,className:"d-flex justify-content-between mb-2"},e.React.createElement("div",null,e.React.createElement(n.Label,{for:"open-collapse",className:"collapse-label title3 hint-default"},this.props.title)),e.React.createElement("div",null,e.React.createElement(n.Switch,{id:"open-collapse",name:"open-collapse",onChange:this.props.toggle,checked:this.props.isOpen}))),e.React.createElement(n.Collapse,{isOpen:this.props.isOpen},this.props.isOpen&&this.props.children))}}const C=(0,e.Immutable)([r.ExpressionInputType.Static,r.ExpressionInputType.Attribute,r.ExpressionInputType.Statistics,r.ExpressionInputType.Expression]),b=(0,e.Immutable)([e.AllDataSourceTypes.FeatureLayer,e.AllDataSourceTypes.SceneLayer,e.AllDataSourceTypes.BuildingComponentSubLayer,e.AllDataSourceTypes.OrientedImageryLayer,e.AllDataSourceTypes.ImageryLayer,e.AllDataSourceTypes.SubtypeGroupLayer,e.AllDataSourceTypes.SubtypeSublayer]);var v;!function(t){t.hover="HOVER",t.regular="REGULAR"}(v||(v={}));class T extends e.React.PureComponent{constructor(o){var i,n,a,r;super(o),this.onSettingLinkConfirm=t=>{let s;if(t){if(t.expression){const e=this.getTextExpression(),o=this.getTipExpression(),i=t.expression,n=this.mergeUseDataSources(e,o,i,this.props.useDataSources);s={id:this.props.id,config:this.props.config.setIn(["functionConfig","linkParam"],t),useDataSources:n}}else{let o;if(this.getIsDataSourceUsed()){const t=this.getTextExpression(),e=this.getTipExpression();o=this.mergeUseDataSources(t,e,null,this.props.useDataSources)}else o=e.expressionUtils.getUseDataSourcesWithoutFields(this.props.useDataSources);s={id:this.props.id,config:this.props.config.setIn(["functionConfig","linkParam"],t),useDataSources:o}}this.props.onSettingChange(s)}},this.onTextChange=()=>{const t={id:this.props.id,config:this.props.config.setIn(["functionConfig","text"],this.state.currentTextInput).setIn(["functionConfig","textExpression"],null),useDataSources:e.expressionUtils.getUseDataSourcesWithoutFields(this.props.useDataSources)};this.props.onSettingChange(t)},this.onToolTipChange=()=>{const t={id:this.props.id,config:this.props.config.setIn(["functionConfig","toolTip"],this.state.currentTipInput).setIn(["functionConfig","toolTipExpression"],null),useDataSources:e.expressionUtils.getUseDataSourcesWithoutFields(this.props.useDataSources)};this.props.onSettingChange(t)},this.onTextExpChange=t=>{if(!t)return;const s=this.getTipExpression(),o=this.getLinkSettingExpression(),i=this.mergeUseDataSources((0,e.Immutable)(t),s,o,this.props.useDataSources);this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["functionConfig","textExpression"],t).setIn(["functionConfig","text"],""),useDataSources:i}),this.setState({isTextExpOpen:!1})},this.onTipExpChange=t=>{if(!t)return;const s=this.getTextExpression(),o=this.getLinkSettingExpression(),i=this.mergeUseDataSources(s,(0,e.Immutable)(t),o,this.props.useDataSources);this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["functionConfig","toolTipExpression"],t).setIn(["functionConfig","toolTip"],""),useDataSources:i}),this.setState({isTipExpOpen:!1})},this.onToggleUseDataEnabled=t=>{var s,o,i,n,a,r;let p=this.props.config;t?(p=p.setIn(["functionConfig","textExpression"],this.getTextExpression()).setIn(["functionConfig","toolTipExpression"],this.getTipExpression()),p=p.set("functionConfig",p.functionConfig.without("text").without("toolTip")),(null===(i=null===(o=null===(s=this.props.config)||void 0===s?void 0:s.functionConfig)||void 0===o?void 0:o.linkParam)||void 0===i?void 0:i.linkType)===e.LinkType.WebAddress&&(p=p.setIn(["functionConfig","linkParam","expression"],this.getLinkSettingExpression()),p=p.setIn(["functionConfig","linkParam"],p.functionConfig.linkParam.without("value")))):(p=p.setIn(["functionConfig","text"],this.state.currentTextInput).setIn(["functionConfig","toolTip"],this.state.currentTipInput),p=p.set("functionConfig",p.functionConfig.without("textExpression").without("toolTipExpression")),(null===(r=null===(a=null===(n=this.props.config)||void 0===n?void 0:n.functionConfig)||void 0===a?void 0:a.linkParam)||void 0===r?void 0:r.linkType)===e.LinkType.WebAddress&&(p=p.setIn(["functionConfig","linkParam","value"],""),p=p.setIn(["functionConfig","linkParam"],p.functionConfig.linkParam.without("expression")))),this.props.onSettingChange({id:this.props.id,useDataSourcesEnabled:t,config:p})},this.onDataSourceChange=t=>{t&&this.props.onSettingChange({id:this.props.id,useDataSources:this.mergeUseDataSources(this.getTextExpression(),this.getTipExpression(),this.getLinkSettingExpression(),(0,e.Immutable)(t))})},this.onIconResultChange=s=>{let o;if(s){o=this.props.config;const e=this.props.config.getIn(["functionConfig","icon","position"])||t.Left;o=o.setIn(["functionConfig","icon","data"],s).setIn(["functionConfig","icon","position"],e)}else o=this.props.config.set("functionConfig",this.props.config.functionConfig.without("icon")).setIn(["styleConfig","customStyle","regular"],this.props.config.getIn(["styleConfig","customStyle","regular"],(0,e.Immutable)({})).without("iconProps")).setIn(["styleConfig","customStyle","hover"],this.props.config.getIn(["styleConfig","customStyle","hover"],(0,e.Immutable)({})).without("iconProps"));this.props.onSettingChange({id:this.props.id,config:o})},this.getWhetherHaveCustomStyle=t=>{const e=t?"regular":"hover";let s=this.props.config.getIn(["styleConfig","customStyle",e]);return s&&s.iconProps&&(s=s.without("iconProps")),!!(s&&Object.keys(s).length>0)},this.onRegularStyleChange=t=>{const e=this.props.config.setIn(["styleConfig","customStyle","regular"],t);this.props.onSettingChange({id:this.props.id,config:e})},this.onHoverStyleChange=t=>{const e=this.props.config.setIn(["styleConfig","customStyle","hover"],t);this.props.onSettingChange({id:this.props.id,config:e})},this.onIconPositionChange=t=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["functionConfig","icon","position"],t.target.value)})},this.onAdvanceTabSelect=t=>{const e=t===v.hover;s.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"isConfiguringHover",value:e})},this.mergeUseDataSources=(t,s,o,i)=>{const n=e.expressionUtils.getUseDataSourceFromExpParts(t&&t.parts,i),a=e.expressionUtils.getUseDataSourceFromExpParts(s&&s.parts,i),r=e.expressionUtils.getUseDataSourceFromExpParts(o&&o.parts,i);return this.mergeUseDataSourcesByDss(n,a,r,i)},this.mergeUseDataSourcesByDss=(t,s,o,i)=>{const n=e.expressionUtils.getUseDataSourcesWithoutFields(i);let a=e.expressionUtils.mergeUseDataSources(n,t);return a=e.expressionUtils.mergeUseDataSources(a,s),a=e.expressionUtils.mergeUseDataSources(a,o),a},this.getIsDataSourceUsed=()=>!!this.props.useDataSourcesEnabled,this.getDefaultExpression=t=>{let s=[];return t&&(s=[{type:e.ExpressionPartType.String,exp:`"${t}"`}]),(0,e.Immutable)({name:"",parts:s})},this.getTipExpression=()=>this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.toolTipExpression&&this.props.config.functionConfig.toolTipExpression||this.getDefaultExpression(this.state.currentTipInput),this.getTextExpression=()=>this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.textExpression&&this.props.config.functionConfig.textExpression||this.getDefaultExpression(this.state.currentTextInput),this.getLinkSettingExpression=()=>{var t,s,o,i,n,a,r,p,l;return this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.linkParam&&this.props.config.functionConfig.linkParam&&this.props.config.functionConfig.linkParam.expression||((null===(o=null===(s=null===(t=this.props.config)||void 0===t?void 0:t.functionConfig)||void 0===s?void 0:s.linkParam)||void 0===o?void 0:o.linkType)===e.LinkType.WebAddress&&(null===(a=null===(n=null===(i=this.props.config)||void 0===i?void 0:i.functionConfig)||void 0===n?void 0:n.linkParam)||void 0===a?void 0:a.value)?this.getDefaultExpression(null===(l=null===(p=null===(r=this.props.config)||void 0===r?void 0:r.functionConfig)||void 0===p?void 0:p.linkParam)||void 0===l?void 0:l.value):null)},this.openTextExpPopup=()=>{this.setState({isTextExpOpen:!0,isTipExpOpen:!1})},this.openTipExpPopup=()=>{this.setState({isTextExpOpen:!1,isTipExpOpen:!0})},this.closeTextExpPopup=()=>{this.setState({isTextExpOpen:!1,isTipExpOpen:!1})},this.closeTipExpPopup=()=>{this.setState({isTextExpOpen:!1,isTipExpOpen:!1})},this.showTextSetting=()=>!!(this.getIsDataSourceUsed()?!this.props.config.getIn(["functionConfig","textExpression"])||this.props.config.getIn(["functionConfig","textExpression"])&&this.props.config.getIn(["functionConfig","textExpression","parts"])&&(this.props.config.getIn(["functionConfig","textExpression","parts"]).length>1||'""'!==this.props.config.getIn(["functionConfig","textExpression","parts","0","exp"])):this.state.currentTextInput),this.showIconSetting=()=>!!this.props.config.getIn(["functionConfig","icon"]),this.toggleUseCustom=()=>{let t=this.props.config;t=t.setIn(["styleConfig","useCustom"],!t.getIn(["styleConfig","useCustom"])),t.getIn(["styleConfig","useCustom"])?(t=t.setIn(["styleConfig","customStyle","hover"],{}),t=t.setIn(["styleConfig","customStyle","regular"],{})):t=t.set("styleConfig",t.styleConfig.without("customStyle")),this.props.onSettingChange({id:this.props.id,config:t})},this.state={isTextExpOpen:!1,isTipExpOpen:!1,currentTextInput:"string"==typeof(null===(n=null===(i=this.props.config)||void 0===i?void 0:i.functionConfig)||void 0===n?void 0:n.text)?null===(r=null===(a=this.props.config)||void 0===a?void 0:a.functionConfig)||void 0===r?void 0:r.text:this.getDefaultText(),currentTipInput:this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.toolTip||""}}componentDidUpdate(t){var e,s,o,i,n,a,r,p,l,u,g,c;this.getIsDataSourceUsed()||((null===(s=null===(e=this.props.config)||void 0===e?void 0:e.functionConfig)||void 0===s?void 0:s.text)!==(null===(i=null===(o=t.config)||void 0===o?void 0:o.functionConfig)||void 0===i?void 0:i.text)&&this.setState({currentTextInput:"string"==typeof(null===(a=null===(n=this.props.config)||void 0===n?void 0:n.functionConfig)||void 0===a?void 0:a.text)?null===(p=null===(r=this.props.config)||void 0===r?void 0:r.functionConfig)||void 0===p?void 0:p.text:this.getDefaultText()}),(null===(u=null===(l=this.props.config)||void 0===l?void 0:l.functionConfig)||void 0===u?void 0:u.toolTip)!==(null===(c=null===(g=t.config)||void 0===g?void 0:g.functionConfig)||void 0===c?void 0:c.toolTip)&&this.setState({currentTipInput:this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.toolTip||""}))}componentWillUnmount(){s.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"isConfiguringHover",value:!1})}getDefaultText(){const{config:t,intl:e}=this.props;return void 0===t.functionConfig.text&&void 0===t.functionConfig.textExpression?e.formatMessage({id:"variableButton",defaultMessage:n.defaultMessages.variableButton}):""}render(){var s,p,l,u;const g=(null===(s=this.props.config.functionConfig.icon)||void 0===s?void 0:s.data)||null,c=(null===(p=this.props.config.functionConfig)||void 0===p?void 0:p.customIcons)||null,h=this.props.config.styleConfig&&this.props.config.styleConfig.customStyle,d=this.showTextSetting(),f=this.showIconSetting(),x=d&&f;return(0,e.jsx)("div",{css:(T=this.props.theme,e.css`
    .widget-setting-link {
      overflow-y: auto;
      font-size: 13px;
      font-weight: lighter;
      .collapse-label{
        color: ${T.ref.palette.neutral[900]};
      }
      .font-size-container{
        width: ${e.polished.rem(82)};
      }
      .advance-style-setting{
        padding: 0 ${e.polished.rem(4)};
      }
      .px-14{
        padding-left: ${e.polished.rem(14)} !important;
        padding-right: ${e.polished.rem(14)} !important;
      }
    }
    .tab-label{
      font-weight: 500 !important;
    }

  `)},(0,e.jsx)("div",{className:"widget-setting-link jimu-widget"},(0,e.jsx)("div",null,(0,e.jsx)(o.SettingSection,null,(0,e.jsx)(o.SettingRow,null,(0,e.jsx)("div",{className:"choose-ds w-100"},(0,e.jsx)(a.DataSourceSelector,{types:b,useDataSources:this.props.useDataSources,useDataSourcesEnabled:this.getIsDataSourceUsed(),onToggleUseDataEnabled:this.onToggleUseDataEnabled,onChange:this.onDataSourceChange,widgetId:this.props.id})))),(0,e.jsx)(o.SettingSection,null,(0,e.jsx)(o.SettingRow,{role:"group","aria-label":this.props.intl.formatMessage({id:"setLink",defaultMessage:n.defaultMessages.setLink})},(0,e.jsx)(o.LinkSelector,{onSettingConfirm:this.onSettingLinkConfirm,linkParam:this.props.config.functionConfig.linkParam,useDataSources:this.getIsDataSourceUsed()&&this.props.useDataSources,widgetId:this.props.id})),(0,e.jsx)(o.SettingRow,{label:this.props.intl.formatMessage({id:"tooltip",defaultMessage:n.defaultMessages.tooltip})}),(0,e.jsx)(o.SettingRow,{role:"group","aria-label":this.props.intl.formatMessage({id:"tooltip",defaultMessage:n.defaultMessages.tooltip})},this.getIsDataSourceUsed()?(0,e.jsx)("div",{className:"w-100"},(0,e.jsx)(r.ExpressionInput,{useDataSources:this.props.useDataSources,onChange:this.onTipExpChange,openExpPopup:this.openTipExpPopup,expression:this.getTipExpression(),isExpPopupOpen:this.state.isTipExpOpen,closeExpPopup:this.closeTipExpPopup,types:C,widgetId:this.props.id,"aria-label":this.props.intl.formatMessage({id:"tooltip",defaultMessage:n.defaultMessages.tooltip})})):(0,e.jsx)(n.TextInput,{className:"w-100",value:this.state.currentTipInput,size:"sm",onChange:t=>{this.setState({currentTipInput:t.target.value})},onBlur:()=>{this.onToolTipChange()},onKeyUp:()=>{this.onToolTipChange()},"aria-label":this.props.intl.formatMessage({id:"tooltip",defaultMessage:n.defaultMessages.tooltip})})),(0,e.jsx)(o.SettingRow,{label:this.props.intl.formatMessage({id:"text",defaultMessage:n.defaultMessages.text})}),(0,e.jsx)(o.SettingRow,{role:"group","aria-label":this.props.intl.formatMessage({id:"text",defaultMessage:n.defaultMessages.text})},this.getIsDataSourceUsed()?(0,e.jsx)("div",{className:"w-100"},(0,e.jsx)(r.ExpressionInput,{useDataSources:this.props.useDataSources,onChange:this.onTextExpChange,openExpPopup:this.openTextExpPopup,expression:this.getTextExpression(),isExpPopupOpen:this.state.isTextExpOpen,closeExpPopup:this.closeTextExpPopup,types:C,widgetId:this.props.id})):(0,e.jsx)(n.TextInput,{className:"w-100",value:this.state.currentTextInput,size:"sm",onChange:t=>{this.setState({currentTextInput:t.target.value})},onBlur:()=>{this.onTextChange()},onKeyUp:()=>{this.onTextChange()}})),(0,e.jsx)(o.SettingRow,{label:this.props.intl.formatMessage({id:"icon",defaultMessage:e.defaultMessages.icon})},(0,e.jsx)(i.IconPicker,{icon:g,customIcons:c,configurableOption:"none",onChange:this.onIconResultChange,"aria-label":this.props.intl.formatMessage({id:"icon",defaultMessage:e.defaultMessages.icon}),setButtonUseColor:!1})),x&&(0,e.jsx)(o.SettingRow,{label:this.props.intl.formatMessage({id:"position",defaultMessage:n.defaultMessages.position})},(0,e.jsx)("div",null,(0,e.jsx)(n.Select,{onChange:this.onIconPositionChange,size:"sm",value:this.props.config.functionConfig&&this.props.config.functionConfig.icon&&this.props.config.functionConfig.icon.position,"aria-label":this.props.intl.formatMessage({id:"position",defaultMessage:n.defaultMessages.position})},Object.keys(t).map((s=>(0,e.jsx)("option",{value:t[s],key:s},this.props.intl.formatMessage({id:s.toLowerCase(),defaultMessage:n.defaultMessages[s.toLowerCase()]})))))))),(0,e.jsx)(o.SettingSection,{className:"px-14"},(0,e.jsx)(m,{title:this.props.intl.formatMessage({id:"advance",defaultMessage:n.defaultMessages.advance}),isOpen:!!(null===(u=null===(l=this.props.config)||void 0===l?void 0:l.styleConfig)||void 0===u?void 0:u.useCustom),toggle:this.toggleUseCustom},(0,e.jsx)(n.Tabs,{fill:!0,type:"pills",onChange:this.onAdvanceTabSelect,defaultValue:v.regular},(0,e.jsx)(n.Tab,{className:"tab-label",id:v.regular,title:this.props.intl.formatMessage({id:"default",defaultMessage:n.defaultMessages.default})},(0,e.jsx)(S,{intl:this.props.intl,appTheme:this.props.theme2,style:h&&h.regular,onChange:this.onRegularStyleChange,isTextSettingOpen:d,isIconSettingOpen:f})),(0,e.jsx)(n.Tab,{className:"tab-label",id:v.hover,title:this.props.intl.formatMessage({id:"hover",defaultMessage:n.defaultMessages.hover})},(0,e.jsx)(S,{intl:this.props.intl,appTheme:this.props.theme2,style:h&&h.hover,onChange:this.onHoverStyleChange,isTextSettingOpen:d,isIconSettingOpen:f}))))))));var T}}function y(t){g.p=t}})(),c})())}}}));