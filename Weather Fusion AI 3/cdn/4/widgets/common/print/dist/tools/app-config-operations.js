System.register(["jimu-core"],(function(e,t){var o={};return{setters:[function(e){o.Immutable=e.Immutable}],execute:function(){e((()=>{"use strict";var e={79244:e=>{e.exports=o}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};r.r(i),r.d(i,{default:()=>u});var n=r(79244);class u{constructor(){this.id="print-app-config-operation"}dataSourceWillRemove(e,t){let o=!1;const r=((i=null==e?void 0:e.asMutable({deep:!0})).widgets&&Object.keys(i.widgets).forEach((e=>{var r;const n=i.widgets[e];if("widgets/common/print/"===n.uri){const u=((null===(r=n.config)||void 0===r?void 0:r.printCustomTemplate)||[]).map((e=>{const r=(null==e?void 0:e.reportOptions)||{},i=(null==r?void 0:r.reportSectionOverrides)||{};return Object.keys(i).forEach((e=>{var r,n,u;const l=null===(r=i[e])||void 0===r?void 0:r.exbDatasource;if(l){const r=l.filter((e=>{const r=(null==e?void 0:e.dataSourceId)===t||(null==e?void 0:e.rootDataSourceId)===t||(null==e?void 0:e.mainDataSourceId)===t;return r&&(o=!0),!r}));0===(null==r?void 0:r.length)?((null===(n=i[e])||void 0===n?void 0:n.isDsOutputDs)&&(null===(u=i[e])||void 0===u||delete u.isDsOutputDs),delete i[e].exbDatasource):i[e].exbDatasource=r}})),r.reportSectionOverrides=i,e.reportOptions=r,e}));o&&(i.widgets[e].config.printCustomTemplate=u)}})),i);var i;return o?(0,n.Immutable)(r):e}}return i})())}}}));